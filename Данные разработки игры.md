## üìå –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –ø–æ–¥—Å–∫–∞–∑–æ–∫

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Å–∫–∞–∑–æ–∫ –≤ –∏–≥—Ä–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–≤—è–∑–∫–∏ **BoxManager** + **TutorialPrompt (Widget)** + **Level Blueprint**. –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è ‚Äî –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª –æ—Ç–≤–µ—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∑–∞ —Å–≤–æ—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, –∞ –æ–±—â–µ–Ω–∏–µ –º–µ–∂–¥—É –Ω–∏–º–∏ –∏–¥—ë—Ç —á–µ—Ä–µ–∑ —Å—Å—ã–ª–∫–∏ –∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä—ã —Å–æ–±—ã—Ç–∏–π.

---

## üèó –§–∞–π–ª—ã –∏ –∏—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ

### 1. **BP_BoxManager**

–ì–ª–∞–≤–Ω—ã–π —É–ø—Ä–∞–≤–ª—è—é—â–∏–π –∫–ª–∞—Å—Å –ø–æ–¥—Å–∫–∞–∑–æ–∫.

#### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

- **TutorialData (DataTable)** ‚Äî —Ç–∞–±–ª–∏—Ü–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –≤—Å–µ—Ö –ø–æ–¥—Å–∫–∞–∑–æ–∫.
    
- **PendingQueue (Name Array)** ‚Äî –æ—á–µ—Ä–µ–¥—å –ø–æ–¥—Å–∫–∞–∑–æ–∫, –æ–∂–∏–¥–∞—é—â–∏—Ö –ø–æ–∫–∞–∑–∞.
    
- **CurrentPromptID (Name)** ‚Äî —Ç–µ–∫—É—â–∞—è –∞–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞.
    
- **CompletedIDs (Name Array)** ‚Äî —Å–ø–∏—Å–æ–∫ —É–∂–µ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –ø–æ–¥—Å–∫–∞–∑–æ–∫.
    
- **CurrentWidget (WBP_TutorialPrompt Ref)** ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ –∞–∫—Ç–∏–≤–Ω—ã–π –≤–∏–¥–∂–µ—Ç.
    
- **CreatedWidget (WBP_TutorialPrompt Ref)** ‚Äî –≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤–∏–¥–∂–µ—Ç–∞.
    
- **CinematicLock (Bool)** ‚Äî —Ñ–ª–∞–≥, —á—Ç–æ –∏–¥—ë—Ç –∫–∞—Ç-—Å—Ü–µ–Ω–∞.
    
- **BestID (Name)** ‚Äî ID –ª—É—á—à–µ–π –ø–æ–¥—Å–∫–∞–∑–∫–∏ (–ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É).
    
- **BestPriority (Int)** ‚Äî –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–π –ø–æ–¥—Å–∫–∞–∑–∫–∏.
    

#### –°–æ–±—ã—Ç–∏—è –∏ —Ñ—É–Ω–∫—Ü–∏–∏:

- **Event BeginPlay** ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç `ShowTutorial("Greeting")` –¥–ª—è —Å—Ç–∞—Ä—Ç–∞.
    
- **ShowTutorial(ID)** ‚Üí –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∫—É –≤ –æ—á–µ—Ä–µ–¥—å + –≤—ã–∑—ã–≤–∞–µ—Ç `TryShowNext`.
    
- **TryShowNext()**:
    
    1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ –∞–∫—Ç–∏–≤–Ω—ã–π –≤–∏–¥–∂–µ—Ç ‚Üí –µ—Å–ª–∏ –µ—Å—Ç—å, –≤—ã—Ö–æ–¥–∏–º.
        
    2. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –∏–¥—ë—Ç –ª–∏ –∫–∞—Ç-—Å—Ü–µ–Ω–∞ (CinematicLock).
        
    3. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ—á–µ—Ä–µ–¥—å.
        
    4. –ë–µ—Ä—ë—Ç –ø–µ—Ä–≤—ã–π ID –∏–∑ –æ—á–µ—Ä–µ–¥–∏ ‚Üí `CurrentPromptID`.
        
    5. –î–æ—Å—Ç–∞—ë—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ DataTable.
        
    6. –°–æ–∑–¥–∞—ë—Ç –≤–∏–¥–∂–µ—Ç (`SkipHint` –µ—Å–ª–∏ –∫–∞—Ç-—Å—Ü–µ–Ω–∞, `Tutorial` –µ—Å–ª–∏ –≥–µ–π–º–ø–ª–µ–π).
        
    7. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ `CurrentWidget` –∏ –≤–µ—à–∞–µ—Ç Bind ‚Üí `OnPromptClosed`.
        
    8. –ü–µ—Ä–µ–¥–∞—ë—Ç —Ç–µ–∫—Å—Ç –≤ ApplyData.
        
    9. –î–æ–±–∞–≤–ª—è–µ—Ç –Ω–∞ —ç–∫—Ä–∞–Ω.
        
- **CompletePrompt(Tag)** ‚Üí —Å–≤–µ—Ä—è–µ—Ç CompletionTag ‚Üí –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∫—É.
    
- **HandlePromptClosed()** ‚Üí –æ–±–Ω—É–ª—è–µ—Ç `CurrentWidget` + –≤—ã–∑—ã–≤–∞–µ—Ç `FindNextPrompt`.
    
- **FindNextPrompt()** ‚Üí –≤—ã–±–∏—Ä–∞–µ—Ç —Å–ª–µ–¥—É—é—â—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É (–Ω–∞—Ö–æ–¥–∏—Ç ID —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º Priority, –∫–æ—Ç–æ—Ä—ã–π –µ—â—ë –Ω–µ –±—ã–ª –ø–æ–∫–∞–∑–∞–Ω).
    

#### –õ–æ–≥–∏–∫–∞ –ø–æ —É–∑–ª–∞–º:

- –û—á–µ—Ä–µ–¥—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ FIFO (–ø–µ—Ä–≤—ã–º –ø—Ä–∏—à—ë–ª ‚Üí –ø–µ—Ä–≤—ã–º —É—à—ë–ª).
    
- CinematicLock —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–∂–∏–º–æ–º –≤–∏–¥–∂–µ—Ç–∞.
    
- Bind OnPromptClosed –Ω—É–∂–µ–Ω –¥–ª—è —Å–≤—è–∑–∏ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –∏ –≤–∏–¥–∂–µ—Ç–∞.
    

---

### 2. **WBP_TutorialPrompt**

–í–∏–¥–∂–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏.

#### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

- **Mode (Enum: Tutorial | SkipHint)** ‚Äî —Ä–µ–∂–∏–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.
    
- **PromptText (Text)** ‚Äî —Ç–µ–∫—É—â–∏–π —Ç–µ–∫—Å—Ç.
    

#### –°–æ–±—ã—Ç–∏—è:

- **Event Construct** ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ—Ç Mode ‚Üí –≤–∫–ª—é—á–∞–µ—Ç –Ω—É–∂–Ω—ã–µ –≥—Ä—É–ø–ø—ã (`TutorialGroup` –∏–ª–∏ `SkipHintGroup`).
    
- **ClosePrompt (CustomEvent)** ‚Üí –∑–∞–ø—É—Å–∫–∞–µ—Ç FadeOut ‚Üí Delay ‚Üí RemoveFromParent ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç `Call OnPromptClosed`.
    

#### –§—É–Ω–∫—Ü–∏–∏:

- **ApplyData(InText)** ‚Üí –≤—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç –≤ `PromptText`.
    

#### –ê–Ω–∏–º–∞—Ü–∏–∏:

- **FadeIn** ‚Äî –ø–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏.
    
- **FadeOut** ‚Äî –ø–ª–∞–≤–Ω–æ–µ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º.
    

---

### 3. **Level Blueprint**

–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∑–∞–ø—É—Å–∫ —É—Ä–æ–≤–Ω—è, –∫–∞—Ç-—Å—Ü–µ–Ω—ã –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–≤–æ–¥–æ–º.

#### –°–æ–±—ã—Ç–∏—è –∏ –ª–æ–≥–∏–∫–∞:

1. **Event BeginPlay**
    
    - Disable Input (–æ—Ç–∫–ª—é—á–∞–µ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ).
        
    - –ù–∞—Ö–æ–¥–∏–º Manager —á–µ—Ä–µ–∑ `Get All Actors Of Class`.
        
    - –°—Ç–∞–≤–∏–º `CinematicLock = True`.
        
    - `TryShowNext()` ‚Üí –ø–æ—è–≤–ª—è–µ—Ç—Å—è SkipHint.
        
    - –°–æ–∑–¥–∞—ë–º Sequence Player (Start_scene) ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ–º ‚Üí Play.
        
    - Bind OnFinished ‚Üí `OnFinished_Event`.
        
2. **OnFinished_Event (–∫–æ–Ω–µ—Ü –∫–∞—Ç-—Å—Ü–µ–Ω—ã)**
    
    - –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –≤–∏–¥–∂–µ—Ç ‚Üí –µ—Å–ª–∏ –¥–∞, –≤—ã–∑—ã–≤–∞–µ–º `ClosePrompt`.
        
    - –°—Ç–∞–≤–∏–º `CinematicLock = False`.
        
    - `TryShowNext()` ‚Üí –ø–æ—è–≤–ª—è–µ—Ç—Å—è Tutorial.
        
    - Enable Input ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–∫—É.
        

#### –ü—Ä–æ–≤–µ—Ä–∫–∏:

- `Print Text` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ CinematicLock –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏–π.
    

---

## üîó –°–≤—è–∑–∏

- **Level Blueprint ‚Üí BP_BoxManager**: —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `CinematicLock` –∏ –≤—ã–∑—ã–≤–∞–µ—Ç `TryShowNext`.
    
- **BP_BoxManager ‚Üí WBP_TutorialPrompt**: —Å–æ–∑–¥–∞—ë—Ç –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤–∏–¥–∂–µ—Ç–∞–º–∏.
    
- **WBP_TutorialPrompt ‚Üí BP_BoxManager**: —á–µ—Ä–µ–∑ `OnPromptClosed` —Å–æ–æ–±—â–∞–µ—Ç, —á—Ç–æ –ø–æ–¥—Å–∫–∞–∑–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.
    

---

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å

- –ú–µ–Ω–µ–¥–∂–µ—Ä –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–∑–¥–∞—ë—Ç Tutorial-–ø–æ–¥—Å–∫–∞–∑–∫–∏.
    
- –û—á–µ—Ä–µ–¥—å PendingQueue –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç.
    
- CompletionTag –∏ –∑–∞–∫—Ä—ã—Ç–∏–µ –≤–∏–¥–∂–µ—Ç–æ–≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç.
    
- CinematicLock –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –Ω–∞—á–∞–ª–µ –∏ –≤ –∫–æ–Ω—Ü–µ –∫–∞—Ç-—Å—Ü–µ–Ω—ã.
    
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è.
    

---

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã –∏ –∑–∞–¥–∞—á–∏

1. **SkipHint –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è**:
    
    - –ù–∞–¥–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å–æ–∑–¥–∞—ë—Ç—Å—è –ª–∏ –≤–∏–¥–∂–µ—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–∏.
        
    - –î–ª—è —ç—Ç–æ–≥–æ ‚Üí –¥–æ–±–∞–≤–∏—Ç—å `Print "SkipHint Created"` –ø–æ—Å–ª–µ `Create Widget`.
        
    - –ò `Print "SkipHint Added to Viewport"` –ø–æ—Å–ª–µ `Add to Viewport`.
        
    - –¢–∞–∫–∂–µ –≤—Ä–µ–º–µ–Ω–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å –º–µ—Å—Ç–∞–º–∏ Tutorial –∏ SkipHint –≤ TryShowNext.
        
2. **–ü—Ä–æ–±–ª–µ–º–∞ —Å IsValid –ø–æ—Å–ª–µ –∫–∞—Ç-—Å—Ü–µ–Ω—ã**:
    
    - –°–µ–π—á–∞—Å `ClosePrompt` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–Ω–æ–≥–¥–∞ –ø—Ä–∏ `Is Not Valid`.
        
    - –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏—è –≤–∏–¥–∂–µ—Ç–∞.
        
3. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ Set CinematicLock**:
    
    - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ–±—ã Level Blueprint —Ç–æ—á–Ω–æ —É–ø—Ä–∞–≤–ª—è–ª —ç—Ç–∏–º —Ñ–ª–∞–≥–æ–º.
        
    - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ Manager –Ω–µ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è.
        

---

## üìå –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –î–æ–±–∞–≤–∏—Ç—å Print-–ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è SkipHint.
    
2. –í—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å Tutorial –Ω–∞ SkipHint, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è –≤ –µ–≥–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏.
    
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è TryShowNext (–º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–æ–≤ —Å–ª–∏—à–∫–æ–º —Ä–∞–Ω–Ω–∏–π ‚Üí –Ω—É–∂–µ–Ω Delay 0.1s).
    
4. –î–æ—Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É `IsValid` –≤ OnFinished_Event.
    

---

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç ‚Äî –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –ø–æ –ø—Ä–æ–µ–∫—Ç—É. –ù–∞ –Ω–µ–≥–æ –±—É–¥–µ–º –æ–ø–∏—Ä–∞—Ç—å—Å—è –ø—Ä–∏ –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ—Ç–ª–∞–¥–∫–µ –∏ —Ä–∞–∑–≤–∏—Ç–∏–∏ —Å–∏—Å—Ç–µ–º—ã.